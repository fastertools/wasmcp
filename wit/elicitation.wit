package fastertools:mcp@0.1.4;

/// Interactive elicitation - request structured input from users
/// Enables servers to collect configuration, preferences, or other data interactively

interface elicitation {
    use types.{mcp-error, json-schema, json-value, meta-fields};

    /// Request for structured user input
    record elicit-request {
        /// Message to display to the user
        message: string,
        /// JSON Schema defining the expected data structure
        /// Properties should use primitive types only (no nesting)
        schema: json-schema,
        /// Extension metadata
        meta: option<meta-fields>,
    }

    /// User's response to an elicitation request
    record elicit-result {
        /// Action the user took
        action: elicit-action,
        /// Data provided by the user (if action was accept)
        data: option<json-value>,
        /// Optional message from the user
        message: option<string>,
        /// Extension metadata
        meta: option<meta-fields>,
    }

    /// Possible user actions in response to elicitation
    enum elicit-action {
        /// User submitted the form with data
        accept,
        /// User explicitly declined to provide data
        decline,
        /// User cancelled without making a choice
        cancel,
    }

    /// Request structured input from the user
    /// The client should present an appropriate UI for data collection
    elicit: func(request: elicit-request) -> result<elicit-result, mcp-error>;
}